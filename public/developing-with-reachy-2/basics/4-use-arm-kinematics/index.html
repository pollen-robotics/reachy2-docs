<!doctype html>
<html lang="en-US">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preload" as="font" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>

  <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>

  <link rel="stylesheet" href="/main.css">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>4. Use arm kinematics - Reachy 2</title>
<meta name="description" content="Harness arm kinematics to create movements using the Python SDK">
<link rel="canonical" href="http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="4. Use arm kinematics">
<meta property="og:description" content="Harness arm kinematics to create movements using the Python SDK">
<meta property="og:url" content="http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/">
<meta property="og:site_name" content="Reachy 2">
<meta property="article:published_time" content="2023-07-26T08:05:23+02:00">
  <meta property="article:modified_time" content="2023-07-26T08:05:23+02:00">
  
  <meta property="og:image" content="http://localhost:1313/favicon.ico"/>
      <meta property="og:image:alt" content="Reachy 2">
    
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@pollenrobotics">
<meta name="twitter:creator" content="@pollenrobotics">
<meta name="twitter:title" content="4. Use arm kinematics">
<meta name="twitter:description" content="Harness arm kinematics to create movements using the Python SDK">
<meta name="twitter:image" content="http://localhost:1313/favicon.ico">
    <meta name="twitter:image:alt" content="4. Use arm kinematics">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
        "@id": "http://localhost:1313/#/schema/organization/1",
      "name": "Pollen Robotics",
      "url": "http://localhost:1313/",
      "sameAs": [
        "https://twitter.com/pollenrobotics"
        , "https://www.linkedin.com/company/12781309/"
        , "https://github.com/pollen-robotics"
        ],
      "logo": {
          "@type": "ImageObject",
          "@id": "http://localhost:1313/#/schema/image/1",
          "url": "http://localhost:1313/logo-pollen.png",
          "width":  400 ,
          "height":  400 ,
          "caption": "Pollen Robotics"
        },
        "image": {
          "@id": "http://localhost:1313/#/schema/image/1"
        }
      },
    {
      "@type": "WebSite",
      "@id": "http://localhost:1313/#/schema/website/1",
      "url": "http://localhost:1313/",
      "name": "Reachy 2",
      "description": "Everything you need to know to setup, program and start interacting with your Reachy!",
      "publisher": {
          "@id": "http://localhost:1313/#/schema/organization/1"
        }
      },
    {
      "@type": "WebPage",
      "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/",
      "url": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/",
      "name": "4. Use arm kinematics",
      "description": "Harness arm kinematics to create movements using the Python SDK",
      "isPartOf": {
        "@id": "http://localhost:1313/#/schema/website/1"
      },
      "about": {
          "@id": "http://localhost:1313/#/schema/organization/1"
        },
      "datePublished": "2023-07-26T08:05:23CET",
      "dateModified": "2023-07-26T08:05:23CET",
      "breadcrumb": {
        "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/#/schema/image/2"
      },
      "inLanguage": "en-US",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "http://localhost:1313/",
          "url": "http://localhost:1313/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "http://localhost:1313/developing-with-reachy-2/",
          "url": "http://localhost:1313/developing-with-reachy-2/",
          "name": "Developing With Reachy 2"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@type": "WebPage",
          "@id": "http://localhost:1313/developing-with-reachy-2/basics/",
          "url": "http://localhost:1313/developing-with-reachy-2/basics/",
          "name": "Basics"
          }
        },{
        "@type": "ListItem",
        "position":  4 ,
        "item": {
          "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/"
          }
        }]
    },

    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "http://localhost:1313/developing-with-reachy-2/basics/4-use-arm-kinematics/#/schema/image/2",
          "url": "http://localhost:1313/favicon.ico",
          "contentUrl": "http://localhost:1313/favicon.ico",
          "caption": "4. Use arm kinematics"
        }
      ]
    }

  ]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="icon" href="http://localhost:1313/favicon.ico" sizes="any">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="http://localhost:1313/site.webmanifest">

  
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


</head>

  <body class="docs single">
    <div class="sticky-top">
<div class="header-bar"></div>

<header class="navbar navbar-expand-lg navbar-light doks-navbar">
  <nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation">

    <a class="navbar-brand order-0" href="/" aria-label="Reachy 2">
      Reachy 2
    </a>

    <button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
    <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header d-lg-none">
        <h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/">Reachy 2</a></h2>
        <button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
      </div>
      <div class="offcanvas-body p-4 p-lg-0">
        <ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto">
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/getting-started/safety-first/safety-guidelines/">Getting started</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/hardware-guide/specifications/general/">Hardware guide</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1 active" href="/developing-with-reachy-2/getting-started-sdk/installation/">Developing with reachy 2</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/teleoperation/compatibility-specs/compatible-devices/">Teleoperation</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/help/debug/debug-checklist/">Help</a>
              </li>
            
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2">
          <input id="search" class="form-control is-search" type="search" placeholder="Search docs..." aria-label="Search docs..." autocomplete="off">
          <div id="suggestions" class="shadow bg-white rounded d-none"></div>
        </form>
        <hr class="text-black-50 my-4 d-lg-none">
        <ul class="nav flex-column flex-lg-row">
          <li class="nav-item">
              <a class="nav-link social-link" href="https://twitter.com/pollenrobotics"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><small class="ms-2 d-lg-none">Twitter</small></a>
            </li>
          <li class="nav-item">
              <a class="nav-link social-link" href="https://github.com/pollen-robotics/"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><small class="ms-2 d-lg-none">GitHub</small></a>
            </li>
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
          <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
          <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
        </button>
        </div>
    </div>
  </nav>
</header>


</div>


<div class="container-xxl">
  <aside class="doks-sidebar">
    <nav id="doks-docs-nav" class="collapse d-lg-none" aria-label="Tertiary navigation">
      
<h3 class="h6 text-uppercase mb-2">Getting started with the SDK</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/installation/">Installation</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/connect-reachy2/">Connect to Reachy 2</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/visualize-fake-robot/">Visualize with fake robot</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">SDK basics</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/basics/1-hello-world/">1. Hello World</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/2-understand-moves/">2. Understand moves in Reachy 2</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/3-basic-arm-control/">3. Basic arm control</a></li>
        <li><a class="docs-link active" href="/developing-with-reachy-2/basics/4-use-arm-kinematics/">4. Use arm kinematics</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/5-control-head/">5. Control the head</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/6-get-images-from-cameras/">6. Get images from cameras</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/7-record-replay-trajectories/">7. Record and replay trajectories</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/8-use-mobile-base/">8. Use the mobile base</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">Advanced tutorials</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/1-reachy-awakening/">Reachy&#39;s Awakening</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/2-reachy-the-mime/">Reachy the Mime</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/3-reachy-the-greengrocer/">Reachy the Greengrocer</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">Simulation</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/simulation/simulation-installation/">Simulation installation</a></li>
        </ul>
  
    </nav>
  </aside>
</div>

    <div class="wrap container-xxl" role="document">
      <div class="content">
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
			<nav id="sidebar-default" class="docs-links" aria-label="Main navigation">
				
<h3 class="h6 text-uppercase mb-2">Getting started with the SDK</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/installation/">Installation</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/connect-reachy2/">Connect to Reachy 2</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/getting-started-sdk/visualize-fake-robot/">Visualize with fake robot</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">SDK basics</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/basics/1-hello-world/">1. Hello World</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/2-understand-moves/">2. Understand moves in Reachy 2</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/3-basic-arm-control/">3. Basic arm control</a></li>
        <li><a class="docs-link active" href="/developing-with-reachy-2/basics/4-use-arm-kinematics/">4. Use arm kinematics</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/5-control-head/">5. Control the head</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/6-get-images-from-cameras/">6. Get images from cameras</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/7-record-replay-trajectories/">7. Record and replay trajectories</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/basics/8-use-mobile-base/">8. Use the mobile base</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">Advanced tutorials</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/1-reachy-awakening/">Reachy&#39;s Awakening</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/2-reachy-the-mime/">Reachy the Mime</a></li>
        <li><a class="docs-link" href="/developing-with-reachy-2/advanced-tutos/3-reachy-the-greengrocer/">Reachy the Greengrocer</a></li>
        </ul>
  <h3 class="h6 text-uppercase mb-2">Simulation</h3>
  <ul class="list-unstyled">
      <li><a class="docs-link" href="/developing-with-reachy-2/simulation/simulation-installation/">Simulation installation</a></li>
        </ul>
  
			</nav>
		</div>
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>On this page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#arm-coordinate-system">Arm coordinate system</a>
      <ul>
        <li><a href="#joint-coordinates">Joint coordinates</a></li>
        <li><a href="#kinematic-model">Kinematic model</a></li>
        <li><a href="#end-effector-location">End effector location</a></li>
        <li><a href="#switching-between-joint-and-cartesian-coordinates">Switching between joint and cartesian coordinates</a></li>
      </ul>
    </li>
    <li><a href="#forward-kinematics">Forward kinematics</a>
      <ul>
        <li><a href="#forward_kinematics">forward_kinematics()</a></li>
        <li><a href="#understand-the-result">Understand the result</a></li>
      </ul>
    </li>
    <li><a href="#inverse-kinematics">Inverse kinematics</a>
      <ul>
        <li><a href="#inverse_kinematics">inverse_kinematics()</a></li>
        <li><a href="#example-square-movement-in-cartesian-space">Example: square movement in cartesian space</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>On this page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#arm-coordinate-system">Arm coordinate system</a>
      <ul>
        <li><a href="#joint-coordinates">Joint coordinates</a></li>
        <li><a href="#kinematic-model">Kinematic model</a></li>
        <li><a href="#end-effector-location">End effector location</a></li>
        <li><a href="#switching-between-joint-and-cartesian-coordinates">Switching between joint and cartesian coordinates</a></li>
      </ul>
    </li>
    <li><a href="#forward-kinematics">Forward kinematics</a>
      <ul>
        <li><a href="#forward_kinematics">forward_kinematics()</a></li>
        <li><a href="#understand-the-result">Understand the result</a></li>
      </ul>
    </li>
    <li><a href="#inverse-kinematics">Inverse kinematics</a>
      <ul>
        <li><a href="#inverse_kinematics">inverse_kinematics()</a></li>
        <li><a href="#example-square-movement-in-cartesian-space">Example: square movement in cartesian space</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
			<h1>4. Use arm kinematics</h1>
			<p class="lead">Harness arm kinematics to create movements</p>
			<nav class="d-xl-none" aria-label="Quaternary navigation">
				<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>On this page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#arm-coordinate-system">Arm coordinate system</a>
      <ul>
        <li><a href="#joint-coordinates">Joint coordinates</a></li>
        <li><a href="#kinematic-model">Kinematic model</a></li>
        <li><a href="#end-effector-location">End effector location</a></li>
        <li><a href="#switching-between-joint-and-cartesian-coordinates">Switching between joint and cartesian coordinates</a></li>
      </ul>
    </li>
    <li><a href="#forward-kinematics">Forward kinematics</a>
      <ul>
        <li><a href="#forward_kinematics">forward_kinematics()</a></li>
        <li><a href="#understand-the-result">Understand the result</a></li>
      </ul>
    </li>
    <li><a href="#inverse-kinematics">Inverse kinematics</a>
      <ul>
        <li><a href="#inverse_kinematics">inverse_kinematics()</a></li>
        <li><a href="#example-square-movement-in-cartesian-space">Example: square movement in cartesian space</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>On this page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#arm-coordinate-system">Arm coordinate system</a>
      <ul>
        <li><a href="#joint-coordinates">Joint coordinates</a></li>
        <li><a href="#kinematic-model">Kinematic model</a></li>
        <li><a href="#end-effector-location">End effector location</a></li>
        <li><a href="#switching-between-joint-and-cartesian-coordinates">Switching between joint and cartesian coordinates</a></li>
      </ul>
    </li>
    <li><a href="#forward-kinematics">Forward kinematics</a>
      <ul>
        <li><a href="#forward_kinematics">forward_kinematics()</a></li>
        <li><a href="#understand-the-result">Understand the result</a></li>
      </ul>
    </li>
    <li><a href="#inverse-kinematics">Inverse kinematics</a>
      <ul>
        <li><a href="#inverse_kinematics">inverse_kinematics()</a></li>
        <li><a href="#example-square-movement-in-cartesian-space">Example: square movement in cartesian space</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>

			</nav>
			<h2 id="arm-coordinate-system">Arm coordinate system <a href="#arm-coordinate-system" class="anchor" aria-hidden="true">#</a></h2>
<h3 id="joint-coordinates">Joint coordinates <a href="#joint-coordinates" class="anchor" aria-hidden="true">#</a></h3>
<p>If you remember the <a href="http://localhost:1313/developing-with-reachy-2/basics/3-basic-arm-control/#goto"><code>goto()</code> function</a>, to generate a trajectory for the arm, you need to pass a list of joints with the requested position as argument.</p>
<p>For example, to place the right arm in a right angled position, we defined the following list:</p>
<pre><code class="language-python">right_angled_position = [0, 10, -10, -90, 0, 0, 0]
</code></pre>
<p>and then call the function with is:</p>
<pre><code class="language-python">reachy.r_arm.goto(right_angled_position)
</code></pre>
<p>In this basic arm control, we used what is called <strong>joint coordinates</strong> to move Reachy. This means that we controlled each joint separately.</p>
<p>Controlling a robot in joint coordinates can be hard and is often far from what we actually do as humans. When we want to grasp an object in front of us, we think of where we should put our hand, not how to flex each individual muscle to reach this position. This approach relies on the cartesian coordinates: the 3D position and orientation in space, this is where the <strong>kinematic model</strong> comes into play.</p>
<h3 id="kinematic-model">Kinematic model <a href="#kinematic-model" class="anchor" aria-hidden="true">#</a></h3>
<p>The <strong>kinematic model</strong> describes the motion of a robot in mathematical form without considering the forces and torque affecting it. It only focuses on the geometric relationship between elements.</p>
<p>We have defined the whole kinematic model of the arm. This means the translation and rotation required to go from one joint to the next one. On a right arm equipped with a gripper, this actually looks like this:</p>
<table>
  <thead>
      <tr>
          <th>Motor</th>
          <th>Translation</th>
          <th>Rotation</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>r_arm.shoulder.pitch</td>
          <td>(0, -0.019, 0)</td>
          <td>(0, 1, 0)</td>
      </tr>
      <tr>
          <td>r_arm.shoulder.roll</td>
          <td>(0, 0, 0)</td>
          <td>(1, 0, 0)</td>
      </tr>
      <tr>
          <td>r_arm.elbow.yaw</td>
          <td>(0, 0, -0.280)</td>
          <td>(0, 0, 1)</td>
      </tr>
      <tr>
          <td>r_arm.elbow.pitch</td>
          <td>(0, 0, 0)</td>
          <td>(0, 1, 0)</td>
      </tr>
      <tr>
          <td>r_arm.wrist.roll</td>
          <td>(0, 0, -0.120)</td>
          <td>(0, 0, 1)</td>
      </tr>
      <tr>
          <td>r_arm.wrist.pitch</td>
          <td>(0, 0, 0)</td>
          <td>(0, 1, 0)</td>
      </tr>
      <tr>
          <td>r_arm.wrist.yaw</td>
          <td>(0, 0, 0)</td>
          <td>(1, 0, 0)</td>
      </tr>
      <tr>
          <td>r_gripper</td>
          <td>(0, ??, ??)</td>
          <td>(0, 0, 0)</td>
      </tr>
  </tbody>
</table>
<p>To use and understand the kinematic model, you need to know how Reachy coordinate system is defined (from Reachy&rsquo;s perspective), see below:</p>


    
    <p style="text-align: center;">
        <img alt="" src="/images/sdk/first-moves/arm_axis_hu9217579559852400232.png" width="400" height="748">
    </p>


<ul>
<li>the X axis corresponds to the forward arrow,</li>
<li>the Y axis corresponds to the right to left arrow,</li>
<li>the Z axis corresponds to the up arrow.</li>
</ul>
<p>The origin of this coordinate system is located in the upper part of the robot trunk, inside Reachy.
Basically, if you imagine a segment going from the left shoulder to the right shoulder of the robot, the origin is the middle of this segment, which corresponds to behind the center of Pollen&rsquo;s logo on Reachy&rsquo;s torso.</p>


    
    <p style="text-align: center;">
        <img alt="" src="/images/sdk/first-moves/reachy_frame_hu12745787073329927092.jpg" width="400" height="266">
    </p>


<blockquote>
<p>Units in this coordinate system are <strong>meters</strong>. So the point (0.3, -0.2, 0) is 30cm in front of the origin, 20cm to the right and at the same height.</p>
</blockquote>
<h3 id="end-effector-location">End effector location <a href="#end-effector-location" class="anchor" aria-hidden="true">#</a></h3>
<p>We consider the end-effector to be in a virtual joint located in the gripper and referred as <em>&lsquo;right_tip&rsquo;</em> or <em>&rsquo;left_tip&rsquo;</em> in the <a href="https://github.com/pollen-robotics/reachy_kinematics/blob/master/reachy.URDF">urdf file</a>, as shown below.</p>


    
    <p style="text-align: center;">
        <img alt="" src="/images/sdk/first-moves/eef_hu16125155333159204319.png" width="400" height="338">
    </p>


<p>The red dot corresponds to the <em>&lsquo;right_tip&rsquo;</em>.</p>
<p>You can see the right and left end-effectors animated below.</p>
<p align="center">
    
    <video controls="controls" width=80% autoplay loop>
        <source type="video/mp4" src="/videos/sdk/eef.mp4">
        </source>
    </video>
</p>
<h3 id="switching-between-joint-and-cartesian-coordinates">Switching between joint and cartesian coordinates <a href="#switching-between-joint-and-cartesian-coordinates" class="anchor" aria-hidden="true">#</a></h3>
<p>Forward and inverse kinematics are a way to go from one coordinates system to the other:</p>
<ul>
<li><strong>forward kinematics</strong>: joint coordinates ‚Äì&gt; cartesian coordinates ,</li>
<li><strong>inverse kinematics</strong>: cartesian coordinates ‚Äì&gt; joint coordinates.</li>
</ul>
<h2 id="forward-kinematics">Forward kinematics <a href="#forward-kinematics" class="anchor" aria-hidden="true">#</a></h2>
<p>Using the kinematic model defined above, we can compute the 3D position and orientation of the right or left end-effector with the <strong><code>forward_kinematics()</code></strong> method.</p>
<h3 id="forward_kinematics">forward_kinematics() <a href="#forward_kinematics" class="anchor" aria-hidden="true">#</a></h3>
<p>Each arm has a <strong><code>forward_kinematics()</code></strong> method. To use it, you first need to connect to your Reachy.</p>
<pre><code class="language-python">from reachy_sdk import ReachySDK

reachy = ReachySDK(host='10.0.0.201')  # Replace with the actual IP

reachy.r_arm.forward_kinematics()
&gt;&gt;&gt; array([[-0.015,  0.001, -1.   ,  0.384],
       [ 0.086,  0.996, -0.001, -0.224],
       [ 0.996, -0.086, -0.015, -0.273],
       [ 0.   ,  0.   ,  0.   ,  1.   ]])
</code></pre>
<p>The method returns a 4x4 matrix indicating the position and orientation of the end effector in Reachy 2&rsquo;s coordinate system.</p>
<blockquote>
<p>By specifying no argument, it will give the current 3D position and orientation of the end effector.</p>
</blockquote>
<p>You can compute the forward kinematics of the arm for other joints positions, by giving as an argument a seven-element-long list, as for the <code>goto()</code>method. The arm will not move, but you can get the target position and orientation of the arm in this configuration.</p>
<p>For example, for the right arm right-angled-position:</p>
<pre><code class="language-python">reachy.r_arm.forward_kinematics([0, 0, 0, -90, 0, 0, 0])
&gt;&gt;&gt; array([[-0.045, -0.168, -0.985,  0.387],
       [ 0.255,  0.951, -0.174, -0.205],
       [ 0.966, -0.259, -0.   , -0.27 ],
       [ 0.   ,  0.   ,  0.   ,  1.   ]])
</code></pre>
<h3 id="understand-the-result">Understand the result <a href="#understand-the-result" class="anchor" aria-hidden="true">#</a></h3>
<p>The 4x4 matrix returned by the <strong><code>forward_kinematics()</code></strong> method is what is often called a <strong>pose</strong>. It actually encodes both the 3D translation (as a 3D vector) and the 3D rotation (as a 3x3 matrix) into one single representation.</p>
<p>$$\begin{bmatrix}
R_{11} &amp; R_{12} &amp; R_{13} &amp; T_x\\\
R_{21} &amp; R_{22} &amp; R_{23} &amp; T_y\\\
R_{31} &amp; R_{32} &amp; R_{33} &amp; T_z\\\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}$$</p>
<p>The instruction</p>
<pre><code class="language-python">reachy.r_arm.forward_kinematics()
</code></pre>
<p>returns the current pose of the right end-effector, based on the present position of every joint in the right arm.</p>
<p>You can also compute the pose for a given joints position. To do that, just pass the list of position as argument of forward_kinematics. Be careful to respect the order of the position you give and to give all the joints in the arm kinematic chain (i.e. from <em>shoulder_pitch</em> to <em>wrist_roll</em>).</p>
<p>For example, we can compute the forward kinematics for the right-angle position we defined earlier.</p>
<pre><code class="language-python">reachy.r_arm.forward_kinematics(right_angle_position)
&gt;&gt;&gt; array([[ 0.    ,  0.    , -1.    ,  0.3675],
       [ 0.    ,  1.    ,  0.    , -0.202 ],
       [ 1.    ,  0.    ,  0.    , -0.28  ],
       [ 0.    ,  0.    ,  0.    ,  1.    ]])
</code></pre>
<p>With this result, we can tell that when the right arm is in the right angle position, the right end-effector is 37cm in front of the origin, 20cm to the left and 28cm below the origin.</p>
<p>As of the rotation matrix, the identity matrix corresponds to the zero position of the robot which is when the hand is facing toward the bottom.</p>
<p>Here we obtained the rotation matrix</p>
<p>$$\begin{bmatrix}
0 &amp; 0 &amp; -1\\\
0 &amp; 1 &amp; 0 \\\
1 &amp; 0 &amp; 0
\end{bmatrix}$$</p>
<p>We can use <em>scipy</em> to understand what this matrix represents.</p>
<pre><code class="language-python">from scipy.spatial.transform import Rotation as R
import numpy as np

R.from_matrix([
    [0, 0, -1],
    [0, 1, 0],
    [1, 0, 0],
]).as_euler('xyz', degrees=True)
&gt;&gt;&gt; array([0., -90,0.])
</code></pre>
<p>So scipy tells us that a rotation of -90¬∞ along the y axis has been made to get this matrix, which is coherent with the result because having the hand facing forward corresponds to this rotation according to Reachy&rsquo;s xyz axis that we saw above.</p>
<h2 id="inverse-kinematics">Inverse kinematics <a href="#inverse-kinematics" class="anchor" aria-hidden="true">#</a></h2>
<p>The inverse kinematics is the exact opposite of the forward kinematics. From a 4x4 pose in Reachy 2 coordinate system, it gives a list of joints positions to reach this target.</p>
<p>Knowing where you arm is located in the 3D space can be useful but most of the time what you want is to move the arm in cartesian coordinates. You want to have the possibility to say:</p>
<blockquote>
<p>‚ÄúMove your hand to [x, y, z] with a 90¬∞ rotation around the Y axis‚Äù.</p>
</blockquote>
<p>This is what <strong><code>goto()</code></strong> does, if the input is a 4x4 matrix.</p>
<h3 id="inverse_kinematics">inverse_kinematics() <a href="#inverse_kinematics" class="anchor" aria-hidden="true">#</a></h3>
<p>Each arm has an <strong><code>inverse_kinematics()</code></strong> method. To use it, you first need to connect to your Reachy.<br>
You need to specify a target pose in Reachy coordinate system as an argument.</p>
<p>Let&rsquo;s for example ask the inverse kinematics of the current pose, using the forward kinematics.</p>
<pre><code class="language-python">from reachy_sdk import ReachySDK

reachy = ReachySDK(host='10.0.0.201')  # Replace with the actual IP

reachy.r_arm.inverse_kinematics(reachy.r_arm.forward_kinematics())
&gt;&gt;&gt;  [0, 10, -10, -90, 0, 0, 0]
</code></pre>
<p>The method returns a seven-element-long list indicating the position of each arm joint, in the usual order:</p>
<ul>
<li>r_arm.shoulder.pitch</li>
<li>r_arm.shoulder.roll</li>
<li>r_arm.elbow.yaw</li>
<li>r_arm.elbow.pitch</li>
<li>r_arm.wrist.roll</li>
<li>r_arm.wrist.pitch</li>
<li>r_arm.wrist.yaw</li>
</ul>
<p>Contrary to the forward kinematics which has a unique answer (giving all joints values will always put the end effector at the same target position), inverse kinematics can have an infinite number of answers (for a target position of the end effector, several combinations of joints angles are possible).</p>
<h3 id="example-square-movement-in-cartesian-space">Example: square movement in cartesian space <a href="#example-square-movement-in-cartesian-space" class="anchor" aria-hidden="true">#</a></h3>
<h4 id="defining-the-poses">Defining the poses <a href="#defining-the-poses" class="anchor" aria-hidden="true">#</a></h4>
<p>To make this more concrete, let&rsquo;s first try with a simple example. We will make the right hand draw a square in 3D space. To draw it, we will define the four corners of a square and Reachy&rsquo;s right hand will go to each of them.</p>
<p>The virtual corner is represented below.</p>


    
    <p style="text-align: center;">
        <img alt="" src="/images/sdk/first-moves/square_setup_hu8429720436169713347.jpg" width="400" height="423">
    </p>


<p>For our starting corner A, let&rsquo;s imagine a point in front of the robot, on its right and below its base. With Reachy coordinate system, we can define such a point with the following coordinates:</p>
<p>$$A = \begin{pmatrix}0.3 &amp; -0.4 &amp; -0.3\end{pmatrix}$$</p>
<p>The coordinates of B should match A except the z component which should be higher. Hence</p>
<p>$$B = \begin{pmatrix}0.3 &amp; -0.4 &amp; 0.0\end{pmatrix}$$</p>
<p>For the corner C, we want a point on the same z level as B, in the inner space of Reachy and in the same plane as A and B. So we only need to change the y component of B. We can take for example :</p>
<p>$$C = \begin{pmatrix}0.3 &amp; -0.1 &amp; 0.0\end{pmatrix}$$</p>
<p>And to complete our corners, we can deduce D from A and C. D coordinates should match C, except its z component, which must the same as A. Hence</p>
<p>$$D = \begin{pmatrix}0.3 &amp; -0.1 &amp; -0.3\end{pmatrix}$$</p>
<div class="alert alert-danger d-flex" role="alert">
  <div class="flex-shrink-1 alert-icon">üëâüèæ</div>
  <div class="w-100"><b>Remember that you always have to provide poses to the inverse kinematics that are actually reachable by the robot.</b> If you're not sure whether the 3D point that you defined is reachable by Reachy, you can move the arm with your hand in compliant mode (meaning turned off), ask the forward kinematics and check the 3D translation component of the returned pose. </div>
</div>
<p>But having the 3D position is not enough to design a pose. You also need to provide the 3D orientation via a rotation matrix. It&rsquo;s often the tricky part when building a target pose matrix.</p>
<p>Keep in mind that the identity rotation matrix corresponds to the zero position of the robot which is when the hand is facing toward the bottom. So if we want the hand facing forward when drawing our virtual square, we need to rotate it from -90¬∞ around the y axis, as we saw in the forward kinematics part.</p>
<p>We know from before which rotation matrix corresponds to this rotation, but we can use the SDK to get the 4x4 matrix from a position vector and the rotation given by the Euler angles :</p>
<pre><code class="language-python">from reachy2_sdk.utils.utils import get_pose_matrix
get_pose_matrix([0.3, -0.4, -0.3], [0,-90,0])
&gt;&gt;&gt; array([[ 0. ,  0. , -1. ,  0.3],
       [ 0. ,  1. ,  0. , -0.4],
       [ 1. ,  0. ,  0. , -0.3],
       [ 0. ,  0. ,  0. ,  1. ]])

</code></pre>
<p>We got the 4x4 matrix that we expected!</p>
<p>You can also move the arm with your hand where you want it to be and use the forward kinematics to get an approximation of the target pose matrix you would give to the inverse kinematics.</p>
<p>Here, having the rotation matrix and the 3D positions for our points A and B, we can build both target pose matrices.</p>
<table>
  <thead>
      <tr>
          <th><strong>Matrix</strong></th>
          <th><strong>Values</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>A</strong></td>
          <td><code>np.array([[0, 0, -1, 0.3], [0, 1, 0, -0.4], [1, 0, 0, -0.3], [0, 0, 0, 1]])</code></td>
      </tr>
      <tr>
          <td><strong>B</strong></td>
          <td><code>np.array([[0, 0, -1, 0.3], [0, 1, 0, -0.4], [1, 0, 0, 0.0], [0, 0, 0, 1]])</code></td>
      </tr>
      <tr>
          <td><strong>C</strong></td>
          <td><code>np.array([[0, 0, -1, 0.3], [0, 1, 0, -0.1], [1, 0, 0, 0.0], [0, 0, 0, 1]])</code></td>
      </tr>
      <tr>
          <td><strong>D</strong></td>
          <td><code>np.array([[0, 0, -1, 0.3], [0, 1, 0, -0.1], [1, 0, 0, -0.3], [0, 0, 0, 1]])</code></td>
      </tr>
  </tbody>
</table>
<h4 id="sending-the-movements-commands">Sending the movements commands <a href="#sending-the-movements-commands" class="anchor" aria-hidden="true">#</a></h4>
<p>As before, we use the <strong><code>goto</code></strong> to send moving instructions to the arm.</p>
<pre><code class="language-python">import time
# put the joints in stiff mode
reachy.r_arm.turn_on()

# use the goto() method
reachy.r_arm.goto(A)
reachy.r_arm.goto(B)
reachy.r_arm.goto(C)
reachy.r_arm.goto(D)

# put the joints back to compliant mode
# use turn_off_smoothly to prevent the arm from falling hard
reachy.r_arm.turn_off_smoothly()
</code></pre>
<p>The result should look like this:</p>
<p align="center">
    
    <video controls="controls" width=80% autoplay loop>
        <source type="video/mp4" src="/videos/sdk/goto_ik.mp4">
        </source>
    </video>
</p>
<p>Now, we are going to move the head !</p>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				</div>
			<div class="docs-navigation d-flex justify-content-between">
	
	<a href="/developing-with-reachy-2/basics/3-basic-arm-control/">
			<div class="card my-1">
				<div class="card-body py-2">
					&larr; 3. Basic arm control
				</div>
			</div>
		</a>
	<a class="ms-auto" href="/developing-with-reachy-2/basics/5-control-head/">
			<div class="card my-1">
				<div class="card-body py-2">
					5. Control the head &rarr;
				</div>
			</div>
		</a>
	</div>

			
		</main>
	</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-xxl">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item">Powered by <a class="text-muted" href="https://www.netlify.com/">Netlify</a>, <a class="text-muted" href="https://gohugo.io/">Hugo</a>, and <a class="text-muted" href="https://getdoks.org/">Doks</a></li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-end">
        <ul class="list-inline">
          </ul>
      </div>
    </div>
  </div>
</footer>
    

<script src="/js/bootstrap.js" defer></script>
  <script src="/js/highlight.js" defer></script>
  <script src="/main.js" defer></script>
  <script src="/index.js" defer></script>
  
    
  </body>
</html>